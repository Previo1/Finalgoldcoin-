<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gold Coin Mining</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: #fff;
            text-align: center;
            padding: 20px;
            padding-bottom: 80px;
            overflow-x: hidden;
        }
        nav {
            background: #111;
            padding: 10px;
            display: flex;
            justify-content: center;
            gap: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid gold;
        }
        nav a {
            color: gold;
            text-decoration: none;
            font-weight: bold;
        }
        nav a:hover { color: #ffcc00; }
        #mineBtn, #autoMiningBtn, #unlockNowBtn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
        }
        #mineBtn { background: gold; color: black; }
        #autoMiningBtn { background: orange; color: black; }
        #unlockNowBtn { background: red; color: white; display: none; }
        .block {
            border: 1px solid gold;
            margin: 10px auto;
            padding: 10px;
            width: 90%;
            border-radius: 8px;
            background: #111;
            text-align: left;
            color: white;
        }
        .hash { font-size: 12px; color: #aaa; }
        .coin {
            position: fixed;
            top: -50px;
            font-size: 24px;
            animation: fall linear forwards;
            z-index: 9999;
        }
        @keyframes fall {
            to { transform: translateY(100vh); opacity: 0; }
        }
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: #111;
            border-top: 1px solid gold;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 8px 0;
        }
        footer a {
            color: gold;
            text-decoration: none;
            font-weight: bold;
        }
        footer a:hover { color: #ffcc00; transform: scale(1.05); }
    </style>
</head>
<body>

<nav>
    <a href="#">‚õè Mining</a>
    <a href="#referral">ü§ù Referral</a>
</nav>

<!-- Mining Section -->
<h1>‚õè Gold Coin Miner</h1>
<h1 id="bigBalance" style="font-size: 36px; color:gold; font-weight:bold;">0 ü™ô</h1>
<p id="status">Ready to mine...</p>
<button id="mineBtn">‚õè Mine Block</button>
<div>
    <button id="autoMiningBtn">‚ñ∂ Start Auto Mining</button>
    <p id="autoMiningStatus">Auto Mining: OFF</p>
    <p id="autoMiningLockMsg" style="color: red;"></p>
    <button id="unlockNowBtn">üîì Unlock Now (10 ü™ô)</button>
    <p id="unlockBalanceInfo" style="color: gold;"></p>
</div>

<!-- Referral Section -->
<div id="referral" style="margin:20px; padding:15px; background:#111; border:1px solid gold; border-radius:10px; text-align:center;">
    <p style="font-weight:bold; color:gold;">üì¢ Refer and Earn</p>
    <p>You will get 50 ü™ô directly in your wallet for each valid referral.</p>

    <a href="https://t.me/share/url?url=https://t.me/goldcoinmining&text=Join%20this%20Gold%20Coin%20Bot%20and%20start%20earning%20coins!"
       target="_blank"
       id="referLink"
       style="display:inline-block; background:gold; padding:8px 15px; border-radius:6px; text-decoration:none; font-weight:bold; color:black; margin-bottom:10px;">
       üì§ Refer Friend
    </a>

    <p id="referralInfo" style="margin-top:10px; color:gold;">Referral Count: <span id="referralCount">0</span></p>

    <p style="margin-top:10px;">üìå Join our channel and earn 1000 ü™ô</p>
    <a href="https://t.me/goldcoinmining" target="_blank"
       style="display:inline-block; background:orange; padding:8px 15px; border-radius:6px; text-decoration:none; font-weight:bold; color:black;">
       üîó Join Channel
    </a>
</div>

<!-- Wallet -->
<div id="wallet" style="margin:20px; padding:20px; background:#111; border-radius:12px; border:1px solid gold;">
    <h2 style="color:gold;">üí∞ Wallet</h2>
    <p><b>Wallet Balance:</b> <span id="walletBalance">0</span> ü™ô</p>
    <p style="font-size:14px; color:#aaa;">(Wallet updates every 24 hours)</p>

    <button id="connectWalletBtn" style="background:gold; color:black; padding:8px 15px; border:none; border-radius:8px; margin-top:10px;">
        üîó Connect Telegram Wallet
    </button>
    <p id="walletStatus" style="color:gold; margin-top:8px;"></p>

    <button id="withdrawBtn" style="background:orange; color:black; padding:8px 15px; border:none; border-radius:8px; margin-top:10px;">
        üè¶ Withdraw Coins
    </button>
    <p id="withdrawStatus" style="color:gold; margin-top:8px;"></p>
</div>

<footer>
    <a href="#wallet">üí∞ Wallet</a>
    <a href="#referral">ü§ù Referral</a>
</footer>

<script>
    let balance = parseInt(localStorage.getItem("balance")) || 100;
    let walletBalance = parseInt(localStorage.getItem("walletBalance")) || balance;
    let referralCount = parseInt(localStorage.getItem("referralCount")) || 0;
    let miningPower = parseFloat(localStorage.getItem("miningPower")) || 1;
    let autoMiningLockTime = parseInt(localStorage.getItem("autoMiningLockTime")) || 0;
    let telegramWallet = localStorage.getItem("telegramWallet") || null;

    function updateUI() {
        document.getElementById("bigBalance").innerText = balance + " ü™ô";
        document.getElementById("walletBalance").innerText = walletBalance;
        checkAutoMiningLock();
        localStorage.setItem("balance", balance);
        localStorage.setItem("walletBalance", walletBalance);
    }

    function coinRain(count = 10) {
        for (let i = 0; i < count; i++) {
            const coin = document.createElement("div");
            coin.classList.add("coin");
            coin.innerHTML = "ü™ô";
            coin.style.left = Math.random() * window.innerWidth + "px";
            coin.style.animationDuration = (Math.random() * 2 + 2) + "s";
            document.body.appendChild(coin);
            setTimeout(() => coin.remove(), 3000);
        }
    }

    document.getElementById("mineBtn").onclick = () => {
        miningPower = referralCount >= 5 ? 2 : 1; 
        balance += 10 * miningPower;
        walletBalance += 10 * miningPower;
        updateUI();
        coinRain(10);
    };

    document.getElementById("autoMiningBtn").onclick = () => {
        if (autoMiningLockTime && Date.now() < autoMiningLockTime) {
            alert("‚õî Auto Mining Locked!");
            return;
        }
        if (window.autoMiningInterval) {
            clearInterval(window.autoMiningInterval);
            window.autoMiningInterval = null;
            document.getElementById("autoMiningStatus").innerText = "Auto Mining: OFF";
        } else {
            window.autoMiningInterval = setInterval(() => {
                miningPower = referralCount >= 5 ? 2 : 1;
                balance += 10 * miningPower;
                walletBalance += 10 * miningPower;
                updateUI();
                coinRain(10);
            }, 500);
            document.getElementById("autoMiningStatus").innerText = "Auto Mining: ON";
            autoMiningLockTime = Date.now() + 12 * 60 * 60 * 1000;
            localStorage.setItem("autoMiningLockTime", autoMiningLockTime);
            checkAutoMiningLock();
        }
    };

    function checkAutoMiningLock() {
        const lockMsg = document.getElementById("autoMiningLockMsg");
        const unlockBtn = document.getElementById("unlockNowBtn");
        const unlockInfo = document.getElementById("unlockBalanceInfo");

        if (autoMiningLockTime && Date.now() < autoMiningLockTime) {
            const remainingHours = Math.ceil((autoMiningLockTime - Date.now()) / (60 * 60 * 1000));
            lockMsg.innerText = `‚õî Auto Mining Locked! It will unlock in ${remainingHours} hours.`;
            unlockBtn.style.display = "inline-block";
            unlockInfo.innerText = "üîì Unlock by deducting 10 ü™ô";
        } else {
            lockMsg.innerText = "";
            unlockBtn.style.display = "none";
            unlockInfo.innerText = "";
        }
    }

    document.getElementById("unlockNowBtn").onclick = () => {
        if (walletBalance < 10) {
            alert("‚ö† Not enough coins!");
            return;
        }
        if (confirm("üîì Unlocking will deduct 10 coins.")) {
            walletBalance -= 10;
            autoMiningLockTime = 0;
            localStorage.removeItem("autoMiningLockTime");
            updateUI();
            alert("‚úÖ Auto Mining Unlocked!");
        }
    };

    function updateWalletStatus() {
        const walletStatus = document.getElementById("walletStatus");
        if (telegramWallet) {
            walletStatus.innerText = `‚úÖ Connected: ${telegramWallet}`;
            document.getElementById("connectWalletBtn").innerText = "üîó Wallet Connected";
            document.getElementById("connectWalletBtn").disabled = true;
        } else {
            walletStatus.innerText = "‚ö† Wallet not connected";
        }
    }

    document.getElementById("connectWalletBtn").onclick = () => {
        const walletAddress = prompt("Enter your Telegram TON Wallet Address:");
        if (walletAddress && walletAddress.length > 20) {
            telegramWallet = walletAddress;
            localStorage.setItem("telegramWallet", telegramWallet);
            updateWalletStatus();
            alert("‚úÖ Wallet Connected Successfully!");
        } else {
            alert("‚ö† Invalid Wallet Address!");
        }
    };

    document.getElementById("withdrawBtn").onclick = () => {
        if (!telegramWallet) {
            alert("‚ö† First connect your Telegram Wallet!");
            return;
        }
        if (walletBalance < 100) {
            alert("‚ö† Minimum 100 ü™ô required for withdrawal!");
            return;
        }

        if (confirm(`üè¶ Withdraw ${walletBalance} ü™ô to ${telegramWallet}?`)) {
            document.getElementById("withdrawStatus").innerText = `‚úÖ Withdrawal request sent for ${walletBalance} ü™ô`;
            walletBalance = 0;
            updateUI();
        }
    };

    document.getElementById("referLink").onclick = () => {
        setTimeout(() => {
            const confirmReferral = confirm("‚úÖ Did your friend join via your referral link? (Test Mode)");
            if (confirmReferral) {
                referralCount++;
                localStorage.setItem("referralCount", referralCount);
                walletBalance += 50;
                localStorage.setItem("walletBalance", walletBalance);
                document.getElementById("referralCount").innerText = referralCount;
                updateUI();
                alert("üéâ 50 ü™ô added to your wallet for referral!");
            }
        }, 1000);
    };

    document.getElementById("referralCount").innerText = referralCount;
    updateWalletStatus();
    updateUI();
</script>
</body>
</html>
