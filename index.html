<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gold Coin Mining</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to top, #000000, #ffffff);
            color: #000;
            text-align: center;
            padding: 20px;
            padding-bottom: 80px;
            overflow-x: hidden;
        }
        nav {
            background: #FFD700;
            padding: 10px;
            display: flex;
            justify-content: center;
            gap: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 2px solid gold;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        nav a {
            color: #000;
            text-decoration: none;
            font-weight: bold;
            font-size: 16px;
        }
        nav a:hover { color: #ff8c00; }
        #mineBtn, #autoMiningBtn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
        }
        #mineBtn { background: #FFD700; color: black; font-weight: bold; }
        #mineBtn:hover { background: #FFC107; }
        #autoMiningBtn { background: #FFA500; color: black; font-weight: bold; }
        #autoMiningBtn:hover { background: #FF8C00; }
        #status {
            font-size: 20px;
            font-weight: bold;
            color: #444;
            margin-bottom: 10px;
        }
        .block {
            border: 1px solid gold;
            margin: 10px auto;
            padding: 10px;
            width: 90%;
            border-radius: 8px;
            background: #fff8dc;
            text-align: left;
        }
        .hash { font-size: 12px; color: #555; }
        .coin {
            position: fixed;
            top: -50px;
            font-size: 24px;
            animation: fall linear forwards;
            z-index: 9999;
        }
        @keyframes fall {
            to { transform: translateY(100vh); opacity: 0; }
        }
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: #fff8dc;
            border-top: 2px solid gold;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 12px 0;
        }
        footer a {
            color:#b8860b;
            text-decoration:none;
            font-weight:bold;
            font-size: 18px;
        }
        footer a:hover { color:#ff8c00; transform:scale(1.05); }
        .hidden-section {
            display: none;
        }
    </style>
</head>
<body>

    <nav>
        <a href="#">üè† Home</a>
    </nav>

    <!-- Mining Section -->
    <h1>‚õè Gold Coin Miner</h1>
    <h1 id="bigBalance" style="font-size: 36px; color:#b8860b; font-weight:bold; margin-top:10px;">0 Gold Coins</h1>
    <p id="status">üöÄ Ready to mine...</p>
    <button id="mineBtn">‚õè Mine Block</button>
    <div>
        <button id="autoMiningBtn">‚ñ∂ Start Auto Mining</button>
        <p id="autoMiningStatus">Auto Mining: OFF</p>
    </div>

    <!-- Referral Section -->
    <div id="referEarn" style="margin:25px auto; max-width:500px; padding:25px; background:#fff8dc; border:2px solid gold; 
        border-radius:15px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.2);">
        <p style="font-weight:bold; color:#b8860b; font-size:22px;">üì¢ Refer and Earn <span style="color:#ff8c00;">500 Coins</span></p>
        <a href="https://t.me/share/url?url=https://t.me/Goldecoinrobot&text=Join%20this%20Gold%20Coin%20Bot%20and%20start%20earning%20coins!"
        target="_blank"
        style="display:inline-block; background:#FFD700; padding:12px 20px; border-radius:10px; text-decoration:none; 
                font-weight:bold; font-size:18px; color:black; border:2px solid gold; margin:15px 0; box-shadow:0 2px 8px rgba(0,0,0,0.2);">
        üì§ Refer Friend
        </a>
        <br>
        <!-- Join Channel Button -->
        <a href="https://t.me/goldcoinmining" 
           target="_blank" 
           onclick="joinChannelReward()" 
           style="display:inline-block; background:#FFA500; padding:12px 20px; border-radius:10px; text-decoration:none; 
                  font-weight:bold; font-size:18px; color:black; border:2px solid gold; margin-top:10px; box-shadow:0 2px 8px rgba(0,0,0,0.2);">
           üì¢ Join Channel & Earn 1000 Coins
        </a>
        <p id="referralCountText" style="font-size:18px; font-weight:bold; margin-top:10px;">Referrals: 0</p>
    </div>

    <!-- Wallet (Hidden) -->
    <div id="wallet" class="hidden-section" style="margin:20px; padding:20px; background:#fff8dc; border-radius:12px; border:1px solid gold;">
        <h2 style="text-align:center; color:#b8860b;">üí∞ Wallet</h2>
        <p><b>Wallet Balance:</b> <span id="walletBalance">0</span> Coins</p>
        <p style="font-size:14px; color:#555;">(Wallet updates every 24 hours)</p>
        <div style="margin-top:15px; background:#fff8dc; border:1px solid gold; border-radius:10px; padding:10px;">
            <h3>Transaction History</h3>
            <ul id="walletHistory" style="list-style:disc; margin-left:20px; max-height:150px; overflow-y:auto;"></ul>
        </div>
    </div>

    <!-- Mining Stats (Hidden) -->
    <div id="miningStats" class="hidden-section" style="margin:20px; padding:20px; background:#fff8dc; border-radius:12px; border:1px solid gold;">
        <h2 style="text-align:center; color:#b8860b;">üìä Your Mining Statistics</h2>
        <canvas id="miningPie" width="300" height="300"></canvas>
        <p><b>Total Mined:</b> <span id="minedCoins">0</span> / 21,000,000</p>
        <p><b>Remaining:</b> <span id="remainingCoins">21,000,000</span></p>
    </div>

    <footer>
        <a href="#" onclick="showSection('referEarn')">üì¢ Referral</a>
        <a href="#" onclick="showSection('wallet')">üí∞ Wallet</a>
        <a href="#" onclick="showSection('miningStats')">üìä Mining Stats</a>
    </footer>

<script>
    const totalSupply = 21000000;
    let blockchain = JSON.parse(localStorage.getItem("blockchain")) || [
        { index: 0, timestamp: new Date().toISOString(), previousHash: "0", hash: "GENESIS_HASH", transactions: ["Genesis Reward 100 Gold Coins"], nonce: 0 }
    ];
    let balance = parseInt(localStorage.getItem("balance")) || 100;
    let totalCoins = parseInt(localStorage.getItem("totalCoins")) || 100;
    let referralCount = parseInt(localStorage.getItem("referralCount")) || 0;
    let walletBalance = parseInt(localStorage.getItem("walletBalance")) || 0;
    let lastWalletUpdate = parseInt(localStorage.getItem("lastWalletUpdate")) || 0;
    let autoMiningStartTime = parseInt(localStorage.getItem("autoMiningStartTime")) || 0;
    let autoMiningInterval = null;
    let autoMiningCoinCount = 0;

    const ctx = document.getElementById("miningPie").getContext("2d");
    const miningPie = new Chart(ctx, {
        type: "pie",
        data: {
            labels: ["Mined Coins", "Remaining Coins"],
            datasets: [{
                data: [totalCoins, totalSupply - totalCoins],
                backgroundColor: ["#FFD700", "#ccc"]
            }]
        }
    });

    function updateMiningChart() {
        miningPie.data.datasets[0].data = [totalCoins, totalSupply - totalCoins];
        document.getElementById("minedCoins").innerText = totalCoins;
        document.getElementById("remainingCoins").innerText = totalSupply - totalCoins;
        miningPie.update();
    }

    document.getElementById("mineBtn").onclick = mineBlock;
    document.getElementById("autoMiningBtn").onclick = toggleAutoMining;

    function mineBlock() {
        balance += 10;
        totalCoins += 10;
        addBlock();
        updateBalance();
        updateMiningChart();
        saveData();
    }

    function toggleAutoMining() {
        const now = Date.now();
        if (autoMiningStartTime && now - autoMiningStartTime > 24 * 60 * 60 * 1000) {
            clearInterval(autoMiningInterval);
            autoMiningInterval = null;
            document.getElementById("autoMiningStatus").innerText = "Auto Mining: OFF (24h Expired)";
            alert("‚õè Auto mining expired! Please restart.");
            localStorage.removeItem("autoMiningStartTime");
            return;
        }
        if (autoMiningInterval) {
            clearInterval(autoMiningInterval);
            autoMiningInterval = null;
            document.getElementById("autoMiningStatus").innerText = "Auto Mining: OFF";
        } else {
            autoMiningStartTime = Date.now();
            localStorage.setItem("autoMiningStartTime", autoMiningStartTime);
            autoMiningInterval = setInterval(autoMineCoin, 1000);
            document.getElementById("autoMiningStatus").innerText = "Auto Mining: ON (24h)";
        }
    }

    function autoMineCoin() {
        const now = Date.now();
        if (now - autoMiningStartTime > 24 * 60 * 60 * 1000) {
            clearInterval(autoMiningInterval);
            autoMiningInterval = null;
            document.getElementById("autoMiningStatus").innerText = "Auto Mining: OFF (24h Expired)";
            alert("‚õè Auto mining expired! Please restart.");
            localStorage.removeItem("autoMiningStartTime");
            return;
        }
        balance += 1;
        totalCoins += 1;
        autoMiningCoinCount++;
        if (autoMiningCoinCount >= 10) {
            autoMiningCoinCount = 0;
            addBlock();
        }
        updateBalance();
        updateMiningChart();
        saveData();
    }

    function addBlock() {
        const previousBlock = blockchain[blockchain.length - 1];
        const newBlock = {
            index: blockchain.length,
            timestamp: new Date().toISOString(),
            previousHash: previousBlock.hash,
            hash: generateHash(),
            transactions: [`Mining Reward: 10 Gold Coins`],
            nonce: blockchain.length
        };
        blockchain.push(newBlock);
        saveData();
    }

    function generateHash() {
        return Array.from({length: 64}, () => "abcdef0123456789"[Math.floor(Math.random() * 16)]).join("");
    }

    function updateBalance() {
        document.getElementById("bigBalance").innerText = balance + " Gold Coins";
        document.getElementById("walletBalance").innerText = walletBalance;
        document.getElementById("referralCountText").innerText = "Referrals: " + referralCount;
    }

    function joinChannelReward() {
        if (!localStorage.getItem("joinedChannel")) {
            balance += 1000;
            totalCoins += 1000;
            localStorage.setItem("joinedChannel", "true");
            alert("üéâ You joined the channel! 1000 coins added.");
            updateBalance();
            updateMiningChart();
            saveData();
        } else {
            alert("‚úÖ You already claimed the Join Channel reward!");
        }
    }

    function saveData() {
        localStorage.setItem("blockchain", JSON.stringify(blockchain));
        localStorage.setItem("balance", balance);
        localStorage.setItem("totalCoins", totalCoins);
        localStorage.setItem("walletBalance", walletBalance);
        localStorage.setItem("referralCount", referralCount);
        localStorage.setItem("autoMiningStartTime", autoMiningStartTime);
    }

    function showSection(sectionId) {
        document.querySelectorAll('.hidden-section').forEach(sec => sec.style.display = 'none');
        document.getElementById(sectionId).style.display = 'block';
        window.scrollTo({ top: document.getElementById(sectionId).offsetTop - 50, behavior: 'smooth' });
    }

    updateBalance();
    updateMiningChart();
</script>
</body>
</html>
