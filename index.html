<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gold Coin Mining</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: white;
            text-align: center;
            padding: 20px;
            padding-bottom: 80px;
            overflow-x: hidden;
        }
        nav {
            background: #111;
            padding: 10px;
            display: flex;
            justify-content: center;
            gap: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid gold;
        }
        nav a {
            color: #FFD700;
            text-decoration: none;
            font-weight: bold;
        }
        nav a:hover { color: #FFA500; }
        #mineBtn, #autoMiningBtn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
        }
        #mineBtn { background: #FFD700; color: black; }
        #mineBtn:hover { background: #FFC107; }
        #autoMiningBtn { background: #FFA500; color: black; }
        #autoMiningBtn:hover { background: #FF8C00; }

        .block {
            border: 1px solid gold;
            margin: 10px auto;
            padding: 10px;
            width: 90%;
            border-radius: 8px;
            background: #111;
            text-align: left;
            color: white;
        }
        .hash { font-size: 12px; color: #aaa; }
        .coin {
            position: fixed;
            top: -50px;
            font-size: 24px;
            animation: fall linear forwards;
            z-index: 9999;
        }
        @keyframes fall { to { transform: translateY(100vh); opacity: 0; } }

        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: #111;
            border-top: 1px solid gold;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 8px 0;
        }
        footer a {
            color: #FFD700;
            text-decoration: none;
            font-weight: bold;
        }
        footer a:hover { color: #FFA500; transform: scale(1.05); }

        .wallet-btn {
            background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
            color: black;
            font-weight: bold;
            border: 2px solid gold;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
            transition: all 0.3s ease;
        }
        .wallet-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.9);
        }
        .unlock-gold-btn {
            background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
            color: black;
            font-weight: bold;
            border: 2px solid gold;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
            transition: all 0.3s ease;
            animation: shine 2s infinite linear;
        }
        .unlock-gold-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.9);
        }
        @keyframes shine {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body>

    <nav>
        <a href="#">‚õè Mining</a>
        <a href="#referral">ü§ù Referral</a>
    </nav>

    <!-- Mining Section -->
    <h1>‚õè Gold Coin Miner</h1>
    <h1 id="bigBalance" style="font-size: 36px; color:#FFD700; font-weight:bold; margin-top:10px;">0 ü™ô</h1>
    <p id="status">Ready to mine...</p>
    <button id="mineBtn">‚õè Mine Block</button>
    <div>
        <button id="autoMiningBtn">‚ñ∂ Start Auto Mining</button>
        <p id="autoMiningStatus">Auto Mining: OFF</p>
        <p id="autoMiningLockMsg" style="color: red; font-size: 14px;"></p>
        <button id="unlockNowBtn" style="display:none;" class="unlock-gold-btn">üîì Unlock Now (10 Coins)</button>
        <small id="unlockBalanceInfo" style="color: yellow; display:block; margin-top:5px;"></small>
    </div>

    <!-- Refer & Earn -->
    <div id="referral" style="margin:20px; padding:15px; background:#111; border:1px solid gold; border-radius:10px; text-align:center;">
        <p style="font-weight:bold; color:#FFD700;">üì¢ Refer and Earn</p>
        <a href="https://t.me/share/url?url=https://t.me/goldcoinmining&text=Join%20Gold%20Coin%20Mining%20and%20earn!"
           target="_blank"
           style="display:inline-block; background:#FFD700; padding:8px 15px; border-radius:6px; text-decoration:none; font-weight:bold; color:black; border:1px solid gold; margin-bottom:10px;">
           üì§ Refer Friend
        </a>
        <p>Join our channel and earn 1000 ü™ô</p>
        <a href="https://t.me/goldcoinmining" target="_blank" style="color:#FFD700; text-decoration:none;">üîó Join Channel</a>
    </div>

    <!-- Wallet -->
    <div id="wallet" style="margin:20px; padding:20px; background:#111; border-radius:12px; border:1px solid gold; color:white;">
        <h2 style="text-align:center; color:#FFD700;">üí∞ Wallet</h2>
        <p><b>Wallet Balance:</b> <span id="walletBalance">0</span> ü™ô</p>
        <p style="font-size:14px; color:#bbb;">(Wallet updates every 24 hours)</p>
        <button id="connectWalletBtn" class="wallet-btn">üîó Connect Telegram Wallet</button>
        <p id="walletStatus" style="margin-top:10px; color:#FFD700;"></p>
        <button id="withdrawBtn" class="wallet-btn" style="display:none; margin-top: 10px;">üí∏ Withdraw Coins</button>
        <div style="margin-top:15px; background:#222; border:1px solid gold; border-radius:10px; padding:10px;">
            <h3>Transaction History</h3>
            <ul id="walletHistory" style="list-style:none; padding-left:0; max-height:150px; overflow-y:auto; color:white;"></ul>
        </div>
    </div>

    <footer>
        <a href="#wallet">üí∞ Wallet</a>
        <a href="#referral">ü§ù Referral</a>
    </footer>

    <script>
        const totalSupply = 21000000;
        let blockchain = JSON.parse(localStorage.getItem("blockchain")) || [
            { index: 0, timestamp: new Date().toISOString(), previousHash: "0", hash: "GENESIS_HASH", transactions: ["Genesis Reward 100 ü™ô"], nonce: 0 }
        ];
        let balance = parseInt(localStorage.getItem("balance")) || 100;
        let totalCoins = parseInt(localStorage.getItem("totalCoins")) || 100;
        let miningPower = parseFloat(localStorage.getItem("miningPower")) || 1;
        let autoMiningLockTime = parseInt(localStorage.getItem("autoMiningLockTime")) || 0;
        let telegramWalletConnected = JSON.parse(localStorage.getItem("telegramWalletConnected")) || false;
        let walletHistory = JSON.parse(localStorage.getItem("walletHistory")) || [];

        const ctx = document.getElementById("miningPie")?.getContext("2d");

        function updateUI() {
            document.getElementById("bigBalance").innerText = balance + " ü™ô";
            document.getElementById("walletBalance").innerText = balance;
        }

        // Coin Rain
        function coinRain(count = 10) {
            for (let i = 0; i < count; i++) {
                const coin = document.createElement("div");
                coin.classList.add("coin");
                coin.innerHTML = "ü™ô";
                coin.style.left = Math.random() * window.innerWidth + "px";
                coin.style.animationDuration = (Math.random() * 2 + 2) + "s";
                document.body.appendChild(coin);
                setTimeout(() => coin.remove(), 3000);
            }
        }

        function generateHash() {
            return Array.from({ length: 64 }, () => "abcdef0123456789"[Math.floor(Math.random() * 16)]).join("");
        }

        // Mining
        document.getElementById("mineBtn").onclick = mineBlock;
        function mineBlock() {
            balance += 10 * miningPower;
            totalCoins += 10 * miningPower;
            localStorage.setItem("balance", balance);
            localStorage.setItem("totalCoins", totalCoins);
            updateUI();
            coinRain(10);
        }

        // Auto Mining
        document.getElementById("autoMiningBtn").onclick = () => {
            if (autoMiningLockTime && Date.now() < autoMiningLockTime) {
                alert("‚õî Auto Mining Locked!");
                return;
            }
            if (window.autoMiningInterval) {
                clearInterval(window.autoMiningInterval);
                window.autoMiningInterval = null;
                document.getElementById("autoMiningStatus").innerText = "Auto Mining: OFF";
            } else {
                window.autoMiningInterval = setInterval(mineBlock, 500);
                document.getElementById("autoMiningStatus").innerText = "Auto Mining: ON";
                autoMiningLockTime = Date.now() + 12 * 60 * 60 * 1000;
                localStorage.setItem("autoMiningLockTime", autoMiningLockTime);
            }
        };

        // Unlock Now
        document.getElementById("unlockNowBtn").onclick = () => {
            if (balance < 10) {
                alert("‚ö† ‡™™‡´Ç‡™∞‡™§‡™æ coins ‡™®‡™•‡´Ä!");
                return;
            }
            if (confirm("üîì Unlock ‡™ï‡™∞‡™µ‡™æ ‡™Æ‡™æ‡™ü‡´á 10 coins ‡™ï‡™™‡™æ‡™∂‡´á.")) {
                balance -= 10;
                localStorage.setItem("balance", balance);
                autoMiningLockTime = 0;
                localStorage.removeItem("autoMiningLockTime");
                document.getElementById("autoMiningLockMsg").innerText = "";
                document.getElementById("unlockNowBtn").style.display = "none";
                document.getElementById("unlockBalanceInfo").innerText = "";
                updateUI();
            }
        };

        // Wallet
        function generateTransactionHash() {
            return "0x" + Array.from({ length: 16 }, () => "abcdef0123456789"[Math.floor(Math.random() * 16)]).join("");
        }

        function renderWalletHistory() {
            const historyEl = document.getElementById("walletHistory");
            historyEl.innerHTML = "";
            walletHistory.slice().reverse().forEach(entry => {
                const li = document.createElement("li");
                li.innerHTML = `<b>${entry.amount} ü™ô Withdraw</b><br>
                                <span style="font-size:12px; color:#aaa;">${entry.time}</span><br>
                                <span style="font-size:12px; color:#FFD700;">Tx: ${entry.hash}</span>`;
                historyEl.appendChild(li);
            });
        }

        document.getElementById("connectWalletBtn").onclick = () => {
            if (!telegramWalletConnected) {
                telegramWalletConnected = true;
                localStorage.setItem("telegramWalletConnected", true);
                document.getElementById("walletStatus").innerText = "‚úÖ Telegram Wallet connected!";
                document.getElementById("withdrawBtn").style.display = "inline-block";
            } else {
                alert("Wallet already connected.");
            }
        };

        document.getElementById("withdrawBtn").onclick = () => {
            if (balance < 100) {
                alert("‚ö† ‡™ì‡™õ‡™æ‡™Æ‡™æ‡™Ç ‡™ì‡™õ‡™æ 100 Coins ‡™ú‡´ã‡™à‡™è!");
                return;
            }
            alert("üí∏ Withdraw request submitted!");
            const transaction = {
                amount: balance,
                time: new Date().toLocaleString(),
                hash: generateTransactionHash()
            };
            walletHistory.push(transaction);
            localStorage.setItem("walletHistory", JSON.stringify(walletHistory));
            renderWalletHistory();
            balance = 0;
            localStorage.setItem("balance", balance);
            updateUI();
        };

        if (telegramWalletConnected) {
            document.getElementById("walletStatus").innerText = "‚úÖ Telegram Wallet connected!";
            document.getElementById("withdrawBtn").style.display = "inline-block";
        }

        renderWalletHistory();
        updateUI();
    </script>
</body>
</html>
